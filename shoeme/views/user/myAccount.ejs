<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link type="text/css" rel="stylesheet" href="/main/css/bootstrap.min.css" />

	<!-- Slick -->
	<link type="text/css" rel="stylesheet" href="/main/css/slick.css" />
	<link type="text/css" rel="stylesheet" href="/main/css/slick-theme.css" />

	<!-- nouislider -->
	<link type="text/css" rel="stylesheet" href="/main/css/nouislider.min.css" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="/main/css/font-awesome.min.css">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="/main/css/style.css" />

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
</head>
<body>
    <%-include('userloged') %>



		<!-- /HEADER -->
		<style>
			 .profile {
        width: 50%;
        height: 500px;
       
        border-radius: 20px;
        margin: 0 auto; /* Center the profile horizontally */
        display: flex;
        align-items: center; /* Center the content vertically */
        justify-content: center; /* Center the content horizontally */
    }

    .user-profile {
        text-align: center;
    }
		</style>
        <div class="section">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-3">
                        <div class="profile"> <!-- Add 'profile' class to the wrapper div -->
                            <div class="user-profile">
                                <h1>User Information</h1>
                                <div class="user-details">
                                    <div class="user-field">
                                        <label for="username">Username:</label>
                                        <span id="username">
                                            <%= userData.name %>
                                                <a href="#" class="edit-icon" onclick="openEditNamePopup()">
                                                    <i class="fa fa-pencil" aria-hidden="true"></i>
                                                </a>
                                        </span>
                                    </div>
    
    
    
                                    <div class="user-field">
                                        <label for="email">Email:</label>
                                        <span id="email">
                                            <%= userData.email %>
                                                <a href="#" class="edit-icon" onclick="openEditEmailPopup()">
                                                    <i class="fa fa-pencil" aria-hidden="true"></i>
                                                </a>
                                        </span>
                                    </div>
    
    
    
                                    <div class="user-field">
                                        <label for="phone">Phone:</label>
                                        <span id="phone">
                                            <%= userData.number %>
                                                <a href="#" class="edit-icon" onclick="openEditNumberPopup()">
                                                    <i class="fa fa-pencil" aria-hidden="true"></i>
                                                </a>
                                        </span>
                                    </div>
                                  
                                    <!-- Hidden Popup -->
                                    <div id="editNamePopup" class="popup" style="display: none;">
                                        <div class="popup-content">
                                            <h2>Edit Username</h2>
                                            <form id="editNameForm" action="/editName" method="POST">
                                                <label for="newName">New Name:</label>
                                                <input type="text" id="newName" name="newName" oninput="validateName()">
                                                <button type="submit">Submit</button>
                                            </form>
                                            <span id="nameError" style="color: red;"></span>
                                        </div>
                                    </div>
                                    <!-- Hidden Popup end  -->
    
                                    <!-- Hidden Popup -->
                                    <div id="editEmailPopup" class="popup" style="display: none;">
                                        <div class="popup-content">
                                            <h2>Edit Email ID</h2>
                                            <form id="editEmailForm" action="/editEmail" method="POST">
                                                <label for="newEmail">New Email ID:</label>
                                                <input type="email" id="newEmail" name="newEmail" oninput="validateEmail()">
                                                <button type="submit">Submit</button>
                                            </form>
                                            <span id="emailError" style="color: red;"></span>
                                        </div>
                                    </div>
                                    <!-- Hidden Popup end  -->
    
                                    <!-- Hidden Popup -->
                                    <div id="editNumberPopup" class="popup" style="display: none;">
                                        <div class="popup-content">
                                            <h2>Edit Phone Number</h2>
                                            <form id="editNumberForm" action="/editNumber" method="POST">
                                                <label for="newNumber">New Number:</label>
                                                <input type="number" id="newNumber" name="newNumber"
                                                    oninput="validateMobile()">
                                                <button type="submit">Submit</button>
                                            </form>
                                            <span id="numberError" style="color: red;"></span>
                                        </div>
                                    </div>
                                    <!-- Hidden Popup end  -->
    
                                    <p class="text-success">
                                        <%= message %>
                                    </p>
                                    <br>
                                   
    
    
    
    
    
    
                                </div>
                            </div>
                        </div>
    
                        
                    </div>
                </div>
            </div>
            </div>
                <!-- /SECTION -->
    
                <!-- jQuery Plugins -->
                <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
                    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
                    crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
                    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
                    crossorigin="anonymous"></script>
                <script src="/main/js/jquery.min.js"></script>
                <script src="/main/js/bootstrap.min.js"></script>
                <script src="/main/js/slick.min.js"></script>
                <script src="/main/js/nouislider.min.js"></script>
                <script src="/main/js/jquery.zoom.min.js"></script>
                <script src="/main/js/main.js"></script>
                <script src="/javascripts/UserDetailsEditValidation.js"></script>
                <script>
                    function openEditNamePopup() {
                        let name = document.querySelector(`#username`).innerText;
                        document.querySelector("#newName").value = name;
                        document.getElementById("editNamePopup").style.display = "block";
                    }
                    function openEditEmailPopup() {
                        let email = document.querySelector(`#email`).innerText;
                        document.querySelector("#newEmail").value = email;
                        document.getElementById("editEmailPopup").style.display = "block";
                    }
                    function openEditNumberPopup() {
                        let phoneElement = document.querySelector('#phone');
                        let number = phoneElement.textContent.trim();
                        document.querySelector("#newNumber").value = number;
                        document.getElementById("editNumberPopup").style.display = "block";
                    }
    
                </script>

</body>
</html>